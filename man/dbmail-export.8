'\" t
.\"     Title: dbmail-export
.\"    Author: [FIXME: author] [see http://docbook.sf.net/el/author]
.\" Generator: DocBook XSL Stylesheets v1.75.2 <http://docbook.sf.net/>
.\"      Date: 01/14/2011
.\"    Manual: \ \&
.\"    Source: \ \&
.\"  Language: English
.\"
.TH "DBMAIL\-EXPORT" "8" "01/14/2011" "\ \&" "\ \&"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
dbmail-export \- export a mailbox from the DBMail mailsystem to mbox format\&.
.SH "SYNOPSIS"
.sp
dbmail\-export [\-dr] [\-u user] [\-m mailbox] [\-s imap search] [\-o outfile|\-b basedir] [\-f configFile]
.SH "DESCRIPTION"
.sp
The dbmail\-export program allows you to export a DBMail mailbox to an mbox formatted mailbox\&.
.SH "OPTIONS"
.PP
\-u user
.RS 4
specify the owner of the mailbox you want to export, using wildcards ? and * to match one or none, or one or more characters in the username, respectively\&.
.RE
.PP
\-m mailbox
.RS 4
specify the mailbox you want to export\&.
.RE
.PP
\-o outfile
.RS 4
specify the file into which the exported mail will be saved\&.
.RE
.PP
\-b basedir
.RS 4
specify the base directory into which the exported mailboxes will be saved\&.
.RE
.PP
\-s search
.RS 4
use an IMAP SEARCH string to select messages (default: 1:*) for example, to export all messages received in May, use: "1:* SINCE 1\-May\-2007 BEFORE 1\-Jun\-2007"
.RE
.PP
\-d
.RS 4
flag exported messages as \e\eDeleted (use dbmail\-util to expunge)\&.
.RE
.PP
\-r
.RS 4
export mailboxes recursively (default: true unless \-m option also specified)\&.
.RE
.SH "COMMON OPTIONS"
.PP
\-f configfile
.RS 4
Specify an alternate config file\&. The utilities are currently hardcoded to use /etc/dbmail\&.conf for their configs, and will halt if the config file cannot be found\&. Use the \-f configfile option to specify your system\(cqs preferred config file location\&. Debian is patched to have /etc/dbmail/dbmail\&.conf as the default\&.
.RE
.PP
\-q
.RS 4
Quietly skip interactive prompts and helpful status messages which would otherwise be printed to stdout\&. Use two \-q\(cqs to silence errors which would otherwise be printed to stderr\&.
.RE
.PP
\-v
.RS 4
Operate verbosely\&. Some of the utilities in the DBMail suite can take two \-v\(cqs for extra verbosity\&. Those which don\(cqt understand this convention won\(cqt complain about having the extra \-v and will simply operate at their normal verbosity\&.
.RE
.PP
\-V
.RS 4
Show the version and copyright, then exit\&.
.RE
.PP
\-h
.RS 4
Show a brief summary of options, then exit\&.
.RE
.SH "EXAMPLES"
.sp
To export and delete all messages belonging to user \fIJoe\fR in mailbox \fIInbox\fR more than 30 days old, try this command:
.sp
.if n \{\
.RS 4
.\}
.nf
dbmail\-export \-u joe \-m inbox \-o joesinbox\&.mbox \-d \-s "1:* BEFORE `date \*(Aq+%e\-%b\-%Y\*(Aq \-d \*(Aq30 days ago\*(Aq`"
.fi
.if n \{\
.RE
.\}
.sp
Note the careful bash quoting and backticks calling the GNU date(1) command\&. GNU date(1) has excellent features for retrieving relative dates\&. If you are using a different shell, you may need different quotes\&. Descriptions of relative dates are not supported by BSD date(1)\&.
.sp
To export all mailboxes named Spam for all users into individual directories following the pattern SpamDump/<username>/Spam, try this command:
.sp
.if n \{\
.RS 4
.\}
.nf
dbmail\-export \-u \e* \-m Spam \-b SpamDump
.fi
.if n \{\
.RE
.\}
.sp
Note the backslash to prevent the shell from expanding the *, as we want that * to be passed into DBMail for expansion based on the internal user list\&.
.SH "BUGS"
.sp
If you experience inexplicable problems with DBMail, please report the issue to the \m[blue]\fBDBMail Bug Tracker\fR\m[]\&\s-2\u[1]\d\s+2\&.
.SH "LICENSE"
.sp
DBMail and its components are distributed under the terms of the GNU General Public License\&. Copyrights are held variously by the authors listed below\&.
.SH "AUTHOR(S)"
.sp
DBMail is a collaborative effort among the core developers listed below and the tremendous help of the testers, patchers and bug hunters listed in the AUTHORS and THANKS files found in the DBMail source distribution\&.
.sp
.if n \{\
.RS 4
.\}
.nf
Eelco van Beek      Aaron Stone            Paul J Stevens
Roel Rozendaal      Open Source Engineer   NFG Net Facilities Group BV
Ilja Booij          Palo Alto, CA USA      http://www\&.nfg\&.nl
IC&S                http://hydricacid\&.com
http://www\&.ic\-s\&.nl
.fi
.if n \{\
.RE
.\}
.SH "NOTES"
.IP " 1." 4
DBMail Bug Tracker
.RS 4
\%http://dbmail.org/mantis/
.RE
