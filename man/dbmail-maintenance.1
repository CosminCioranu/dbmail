.TH DBMAIL-MAINTENANCE 1 
.ad
.fi
.SH NAME
dbmail-maintenance
\-
Does a cleanup and integrity check of the \fBDbmail\fR mailsystem
.SH SYNOPSIS
.na
.nf
\fBdbmail-maintenance [-ciflphd]\fR
.SH DESCRIPTION
.ad
.fi
The \fBdbmail-maintenance\fR program does a global database cleanup and integrity
check. All messages that are set for deletion will be marked for final deletion 
(status 3). All message that are marked for final deletion will be cleared from 
the database. The integrity check will check for unconnected messageblocks, 
unconnected messages and
unconnected mailboxes.
.SH OPTIONS
.ad
.fi
.TP 10
.BI \-f\ file 
specify an alternative config file. Default config file is /etc/dbmail.conf
.TP 10
.B -c 
performs internal cleaning-up on the tables
.TP 10
.B -i 
checks integrity
.TP 10
.B -r
checks integrity and tries to fix problems
.TP 10
.BI \-l\ "timespan" 
clean up IP-log (used when IMAP/POP-before-SMTP is on)
.I timespan
may contain hours, minutes or both. Every IP number logged
before the current date/time minus this timespan will be removed from the
table. The format for 
.I timespan 
is <n>h<m>m with n the number of hours and m the number of minutes.
.TP 10
.B -p
purge messages have the DELETE status set
.TP 10
.B -h
show short help message then exit
.TP 10
.B -d
set DELETE status for deleted messages
.SH DIAGNOSTICS
.ad
.fi
Errors and notifications are send to the trace output as set 
in the \fBDbmail\fR configfile.
.SH BUGS
.PP
No known bugs.
.SH LICENSE
.na
.nf
.ad
.fi
Dbmail and it's components are (c) IC&S and distributed under the GPL. 
.SH AUTHOR(S)
.na
.nf
Eelco van Beek, Roel Rozendaal
IC&S 
Koningsweg 4
3582 GE Utrecht
http://www.ic-s.nl

